{% extends "base.html" %} {% block content %}
<h1>Dashboard â€” {{ shelter.shelter_name }}</h1>

<div class="actions">
  <a class="btn" href="{{ url_for('add_animal') }}">Add Animal</a>
  <a class="btn" href="{{ url_for('add_employee') }}">Add Employee</a>
</div>

<h2>Animals</h2>
<table class="table">
  <thead>
    <tr>
      <th>ID</th>
      <th>Name</th>
      <th>Type</th>
      <th>Breed</th>
      <th>Health</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for a in animals.itertuples() %}
    <tr>
      <td>{{ a.animal_id }}</td>
      <td>{{ a.name }}</td>
      <td>{{ a.animal_type }}</td>
      <td>{{ a.breed }}</td>
      <td>{{ a.health_condition }}</td>
      <td class="row-actions">
        <a
          class="btn small"
          href="{{ url_for('edit_animal', animal_id=a.animal_id) }}"
          >Edit</a
        >
        <form
          method="post"
          action="{{ url_for('delete_animal', animal_id=a.animal_id) }}"
          onsubmit="return confirm('Are you sure you want to delete?');"
        >
          <button class="btn small danger" type="submit">Delete</button>
        </form>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>

<h2>Employees</h2>
<table class="table">
  <thead>
    <tr>
      <th>ID</th>
      <th>Name</th>
      <th>Role</th>
      <th>Start Date</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for e in employees.itertuples() %}
    <tr>
      <td>{{ e.employee_id }}</td>
      <td>{{ e.name }}</td>
      <td>{{ e.role }}</td>
      <td>{{ e.start_date|datefmt }}</td>
      <td class="row-actions">
        <a
          class="btn small"
          href="{{ url_for('edit_employee', employee_id=e.employee_id) }}"
          >Edit</a
        >
        <form
          method="post"
          action="{{ url_for('delete_employee', employee_id=e.employee_id) }}"
          onsubmit="return confirm('Are you sure you want to delete?');"
        >
          <button class="btn small danger" type="submit">Delete</button>
        </form>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
